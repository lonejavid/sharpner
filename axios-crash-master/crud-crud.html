<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact Information</title>
</head>
<body>
  <h2>Contact Information</h2>
  <form id="form-data">
    <label for="name">Name:</label><br>
    <input type="text" id="name" name="name"><br><br>

    <label for="email">Email:</label><br>
    <input type="email" id="email" name="email"><br><br>

    <label for="phone">Phone:</label><br>
    <input type="tel" id="phone" name="phone"><br><br>

    <input type="submit" value="Submit">
  </form>
  <input type="button" id="fetch" value="fetch data">
  <form>
    <ul id="item-list1"><ul></ul></form>
  </form>
  <form>

    <h3> Patients</h3>
  <ul id="item-list">


  </ul>
  </form>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
  <script >
  document.getElementById('form-data').addEventListener('submit',onsubmit);

    let Uname=document.getElementById('name')
    let email=document.getElementById('email')
    let phone=document.getElementById('phone')
    let user_list=document.getElementById('item-list');
    let user_list1=document.getElementById('item-list1');
    
    let fetch=document.getElementById('fetch');
    function onsubmit(e){
        
        e.preventDefault();
    
        let name=Uname.value
        let email_id=email.value
        let number=phone.value
        const data={
            name,
            email_id,
            number
        }
        axios.post("https://crudcrud.com/api/d291f3bd0a0343c087dfff335c1f94ee/patients",data)
        .then((response)=>console.log(response)).
        catch((error)=>console.log(error));
        let result=name+'  '+email_id+'  '+number;
        
    
        let li=document.createElement('li');
        li.innerHTML=result;
        user_list1.append(li);
    }
    //
    window.addEventListener("DOMContentLoaded",()=>{
        axios.get("https://crudcrud.com/api/d291f3bd0a0343c087dfff335c1f94ee/patients")
       .then((response)=>{
        
        for(let i=0;i<response.data.length;i++)
        {
            let student=response.data[i]
            let res1=`${student.name} - ${student.email_id} - ${student.number}`;
        let li=document.createElement('li');
        li.innerHTML=res1;
        user_list.append(li);
            
        }
       })
      })
    
    
    </script>
</body>
</html>
